(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
"use strict";module.exports={apiHost:"https://api.solvebio.com/v1",DEBUG:!1,VERSION:"1.1.1"};
},{}],3:[function(require,module,exports){
"use strict";var _=require(12),Filter=function(t){var r=_.keys(t);1===r.length?this.filters=[r[0],t[r[0]]]:this.filters={and:_.map(r,function(r){return[r,t[r]]})}};Filter.prototype.and=function(t){return this.filters={and:[this.filters,t.filters]},this},Filter.prototype.or=function(t){return this.filters={or:[this.filters,t.filters]},this},Filter.prototype.not=function(){return this.filters={not:this.filters},this},module.exports=Filter;
},{"12":12}],4:[function(require,module,exports){
"use strict";var ResourceManager=require(8),DatasetFieldManager=function(e,a){var t="dataset_fields";ResourceManager.call(this,e,t,a)};DatasetFieldManager.prototype=Object.create(ResourceManager.prototype),DatasetFieldManager.prototype.facets=function(){return this._id?this._solveBio.get(this._path+"/"+this._id+"/facets",{}):void console.error("You need to specify a field id.")},module.exports=DatasetFieldManager;
},{"8":8}],5:[function(require,module,exports){
"use strict";var _=require(12),ResourceManager=require(8),Filter=require(3),DatasetManager=function(e,t){var r="datasets";ResourceManager.call(this,e,r,t)};DatasetManager.prototype=Object.create(ResourceManager.prototype),DatasetManager.prototype.query=function(e){if(this._id){var t={limit:100,offset:0};return e=_.defaults(e||{},t),e.filters instanceof Filter&&(e.filters=[e.filters.filters]),this._solveBio.post(this._path+"/"+this._id+"/data",{limit:e.limit,offset:e.offset,genome_build:e.genome_build,query:e.query,filters:e.filters,fields:e.fields})}console.error("You need to specify a dataset id or full name.")},DatasetManager.prototype.fields=function(){return this._id?this._solveBio.get(this._path+"/"+this._id+"/fields",{}):void console.error("You need to specify a dataset id or full name.")},DatasetManager.prototype.filter=function(e){return this._id?this.query({filters:e}):void console.error("You need to specify a dataset id or full name.")},module.exports=DatasetManager;
},{"12":12,"3":3,"8":8}],6:[function(require,module,exports){
"use strict";var ResourceManager=require(8),DepositoryManager=function(e,o){var r="depositories";ResourceManager.call(this,e,r,o)};DepositoryManager.prototype=Object.create(ResourceManager.prototype),DepositoryManager.prototype.versions=function(){return this._id?this._solveBio.get(this._path+"/"+this._id+"/versions",{}):void console.error("You need to specify a depository id.")},module.exports=DepositoryManager;
},{"8":8}],7:[function(require,module,exports){
"use strict";var console=require(10),ResourceManager=require(8),DepositoryVersionManager=function(e,o){var r="depository_versions";ResourceManager.call(this,e,r,o)};DepositoryVersionManager.prototype=Object.create(ResourceManager.prototype),DepositoryVersionManager.prototype.datasets=function(){return this._id?this._solveBio.get(this._path+"/"+this._id+"/datasets",{}):void console.error("You need to specify a version id.")},DepositoryVersionManager.prototype.changelog=function(){return this._id?this._solveBio.get(this._path+"/"+this._id+"/changelog",{}):void console.error("You need to specify a version id.")},module.exports=DepositoryVersionManager;
},{"10":10,"8":8}],8:[function(require,module,exports){
"use strict";var console=require(10),ResourceManager=function(e,o,t){this._solveBio=e,this._path=o,this._id=t};ResourceManager.prototype.retrieve=function(){return this._id?this._solveBio.get(this._path+"/"+this._id,{}):void console.error("You need to specify an id.")},ResourceManager.prototype.all=function(){return this._solveBio.get(this._path,{})},module.exports=ResourceManager;
},{"10":10}],9:[function(require,module,exports){
(function (global){
"use strict";var console=require(10),config=require(2),_=require(12),Promise=require(11),req=require,_XMLHttpRequest="undefined"!=typeof window&&window?XMLHttpRequest:req("xmlhttprequest").XMLHttpRequest,DepositoryManager=require(6),DepositoryVersionManager=require(7),DatasetManager=require(5),DatasetFieldManager=require(4),Filter=require(3),SolveBio=function(){return this.VERSION=config.VERSION,this._config=config,this.Depository=function(e){return new DepositoryManager(this,e)},this.DepositoryVersion=function(e){return new DepositoryVersionManager(this,e)},this.Dataset=function(e){return new DatasetManager(this,e)},this.DatasetField=function(e){return new DatasetFieldManager(this,e)},this.Filter=function(e){return new Filter(e)},this},serialize=function(e){var t=[];for(var n in e){var r=n,o=e[n];t.push("object"==typeof o?serialize(o,r):encodeURIComponent(r)+"="+encodeURIComponent(o))}return t.join("&")};SolveBio.prototype.init=function(e){this._config._accessToken=e.accessToken,config.DEBUG=!!e.debug};var buildURL=function(e,t){return e+(e.indexOf("?")>0?"&":"?")+serialize(t)};SolveBio.prototype.$http=function(e){var t=this,n={ajax:function(r,o,i,s){return t._config._accessToken?new Promise(function(a,u){var c=new _XMLHttpRequest;o=""+t._config.apiHost+"/"+o.replace(/^\/?/,""),"GET"===r?(o=buildURL(o,i),i=null):i=JSON.stringify(i,null,4),console.log("Sending "+r+" request to "+o),c.open(r,o,!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Authorization","Bearer "+t._config._accessToken),c.send(i),c.onload=function(){if(200===this.status){var t=JSON.parse(this.responseText);t.links?(t.links.next&&(t.next=function(){var o=t.links.next.match(/^.*page=(\d+)$/)[1],a=_.assign(JSON.parse(i)||{},{page:o});return n.ajax(r,e,a,s)}),t.links.prev&&(t.prev=function(){var o=t.links.prev.match(/^.*page=(\d+)$/)[1],a=_.assign(JSON.parse(i)||{},{page:o});return n.ajax(r,e,a,s)})):t.offset&&(t.next=function(){var o=t.offset,a=_.assign(JSON.parse(i)||{},{offset:o});return n.ajax(r,e,a,s)}),a(t)}else u(JSON.parse(this.responseText))},c.onerror=function(){u(this.statusText)}}):void console.error("You must initialize the SolveBio instance with a valid Token: SolveBio.init(/* configObject */)")}};return{get:function(t,r){return n.ajax("GET",e,t,r)},post:function(t,r){return n.ajax("POST",e,t,r)},put:function(t,r){return n.ajax("PUT",e,t,r)},"delete":function(t,r){return n.ajax("DELETE",e,t,r)}}};var restShortcut=function(e){SolveBio.prototype[e.toLowerCase()]=function(){return SolveBio.prototype.$http.apply(this,[arguments[0]])[e.toLowerCase()].apply(this,[].slice.call(arguments,1))}},restMethods=["GET","PUT","POST","DELETE"];_.forEach(restMethods,function(e){restShortcut(e)}),global.SolveBio=module.exports=new SolveBio;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"10":10,"11":11,"12":12,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7}],10:[function(require,module,exports){
"use strict";var _=require(12),config=require(2);module.exports={log:function(){if(config.DEBUG&&!_.isUndefined(console)&&console){var o=["SolveBio["+config.VERSION+"] log:"].concat(_.toArray(arguments));try{console.log.apply(console,o)}catch(n){_.forEach(arguments,function(o){console.log(o)})}}},error:function(){if(!_.isUndefined(console)&&console){var o=["SolveBio["+config.VERSION+"] error:"].concat(_.toArray(arguments));try{console.error.apply(console,o)}catch(n){_.forEach(o,function(o){console.error(o)})}}},warn:function(){if(config.DEBUG&&!_.isUndefined(console)&&console){var o=["SolveBio["+config.VERSION+"] warning:"].concat(_.toArray(arguments));try{console.warn.apply(console,o)}catch(n){_.forEach(o,function(o){console.error(o)})}}}};
},{"12":12,"2":2}],11:[function(require,module,exports){
"use strict";var console=require(10),_=require(12),Promise=require(1);if(0===_.keys(Promise).length)if("undefined"!=typeof window&&window)if(window.Q)Promise=window.Q.Promise;else if(window.angular){var injector=window.angular.injector(["ng"]);injector.invoke(["$q",function(e){Promise=function(r){var o,i,n;return o=e.defer(),n=function(e){return o.resolve(e)},i=function(e){return o.reject(e)},r(n,i),o.promise}}])}else window.jQuery?Promise=function(e){var r,o,i;return r=window.jQuery.Deferred(),i=function(e){return r.resolve(e)},o=function(e){return r.reject(e)},e(i,o),r.promise()}:window.Promise?Promise=window.Promise:console.error("A Promise API was not found. You need to either use solvebio-promises package or load a third-party library that includes Promises (jQuery, AngularJS, Q or BlueBird).");else{var req=require;Promise=this.Promise||req("es6-promise").Promise,Promise&&0!==_.keys(Promise).length||console.error("A Promise API was not found. You need to either use solvebio-promises package or load a third-party library that includes Promises (es6-promise or BlueBird).")}module.exports=Promise;
},{"1":1,"10":10,"12":12}],12:[function(require,module,exports){
"use strict";function collectNonEnumProps(r,n){var t=nonEnumerableProps.length,e=r.constructor,o=_.isFunction(e)&&e.prototype||Object.prototype,u="constructor";for(_.has(r,u)&&!_.contains(n,u)&&n.push(u);t--;)u=nonEnumerableProps[t],u in r&&r[u]!==o[u]&&!_.contains(n,u)&&n.push(u)}var _={},nativeKeys=Object.keys,slice=Array.prototype.slice,hasOwnProperty=Object.prototype.hasOwnProperty,createAssigner=function(r,n){return function(t){var e=arguments.length;if(2>e||null==t)return t;for(var o=1;e>o;o++)for(var u=arguments[o],i=r(u),a=i.length,c=0;a>c;c++){var s=i[c];n&&void 0!==t[s]||(t[s]=u[s])}return t}},hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.has=function(r,n){return null!=r&&hasOwnProperty.call(r,n)},_.keys=function(r){return nativeKeys(r)},_.allKeys=function(r){if(!_.isObject(r))return[];var n=[];for(var t in r)n.push(t);return hasEnumBug&&collectNonEnumProps(r,n),n};var property=function(r){return function(n){return null==n?void 0:n[r]}};_.property=property,_.extendOwn=_.assign=createAssigner(_.keys),_.defaults=createAssigner(_.allKeys,!0),_.isObject=function(r){var n=typeof r;return"function"===n||"object"===n&&!!r},_.isMatch=function(r,n){var t=_.keys(n),e=t.length;if(null==r)return!e;for(var o=Object(r),u=0;e>u;u++){var i=t[u];if(n[i]!==o[i]||!(i in o))return!1}return!0},_.matcher=_.matches=function(r){return r=_.extendOwn({},r),function(n){return _.isMatch(n,r)}};var optimizeCb=function(r,n,t){if(void 0===n)return r;switch(null==t?3:t){case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,o){return r.call(n,t,e,o)};case 4:return function(t,e,o,u){return r.call(n,t,e,o,u)}}return function(){return r.apply(n,arguments)}},cb=function(r,n,t){return null==r?_.identity:_.isFunction(r)?optimizeCb(r,n,t):_.isObject(r)?_.matcher(r):_.property(r)};_.values=function(r){for(var n=_.keys(r),t=n.length,e=Array(t),o=0;t>o;o++)e[o]=r[n[o]];return e};var MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=property("length"),isArrayLike=function(r){var n=getLength(r);return"number"==typeof n&&n>=0&&MAX_ARRAY_INDEX>=n};_.isUndefined=function(r){return void 0===r},_.isArray=Array.isArray||function(r){return"[object Array]"===r.toString()},_.identity=function(r){return r},_.toArray=function(r){return r?_.isArray(r)?slice.call(r):isArrayLike(r)?_.map(r,_.identity):_.values(r):[]},_.map=_.collect=function(r,n,t){n=cb(n,t);for(var e=!isArrayLike(r)&&_.keys(r),o=(e||r).length,u=Array(o),i=0;o>i;i++){var a=e?e[i]:i;u[i]=n(r[a],a,r)}return u},_.each=_.forEach=function(r,n,t){n=optimizeCb(n,t);var e,o;if(isArrayLike(r))for(e=0,o=r.length;o>e;e++)n(r[e],e,r);else{var u=_.keys(r);for(e=0,o=u.length;o>e;e++)n(r[u[e]],u[e],r)}return r},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(r){_["is"+r]=function(n){return toString.call(n)==="[object "+r+"]"}}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(r){return"function"==typeof r||!1}),module.exports=_;
},{}]},{},[9]);
